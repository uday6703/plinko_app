# Render deployment manifest (web service + managed Postgres database)
# Edit `branch`, `region`, and `plan` as needed before creating resources in Render.

services:
  - type: web
    name: plinko-backend
    env: node
    region: oregon
    plan: free
    branch: main
    root: backend
    buildCommand: npm install && npx prisma generate && npx prisma migrate deploy
    startCommand: npm start
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production

databases:
  - name: plinko-db
    engine: postgres
    plan: starter
